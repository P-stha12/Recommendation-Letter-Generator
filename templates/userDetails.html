{% extends 'base2.html' %}

{% block title %}Edit Details{% endblock title %}
{% block teacher %}<a href="teacher"><img src="{{teacher.images.url}}" style="width:33px;height:33px; border-radius: 50%;" ></a>{% endblock teacher %}

{% block body %}
  <div class="container" style="margin-top:50px; max-width: 1100px; max-height: 1000px;">
    <div class="card mb-6" style="max-width: 1100px; max-height: 700px;">
      <div class="row g-0">
        <div class="col-md-6">
          <div class="row">
            <img src="{{teacher.images.url}}" style="width:350px;height:300px; margin:10px;">
          </div>
          <div class="row-1">

            <a href="profileUpdate">
              <h5 style="margin:10px;">Upload Photo</h5>
            </a>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card-body">
            <h4><span class="badge bg-info">Details</span></h4>
            <br>
            <div class="row e-block p-2 bg-secondary text-white"><div class="col-sm-12"><span>Full Name : {{teacher.name}}</div></span> </div><br>
            
            <div class="row e-block p-2 bg-secondary text-white"><div class="col-sm-11"><span>Email : {{teacher.email}}</div><div class="col-sm-1 "><button type="button" class="mx-auto" data-bs-toggle="modal" data-bs-target="#email"> <i class="bi bi-pencil-square" > </i></button></div></span> </div><br>
            <div class="row e-block p-2 bg-secondary text-white"><div class="col-sm-11"><span>Username : {{teacher_username}}</div><div class="col-sm-1 "><button type="button" class="mx-auto" data-bs-toggle="modal" data-bs-target="#Username"> <i class="bi bi-pencil-square" > </i></button></div></span> </div><br>
            
            <div class="row e-block p-2 bg-secondary text-white"><div class="col-sm-11"><span>Phone Number: {{teacher.phone}}</div><div class="col-sm-1"><button type="button" class="mx-auto" data-bs-toggle="modal" data-bs-target="#phone"> <i class="bi bi-pencil-square" > </i></button></div></span> </div><br>
            <div class="row e-block p-2 bg-secondary text-white"><div class="col-sm-11"><span>Title: {{teacher.title}}</div><div class="col-sm-1"><button type="button" class="mx-auto" data-bs-toggle="modal" data-bs-target="#title"> <i class="bi bi-pencil-square" > </i></button></div></span> </div><br>
            <div class="row e-block p-2 bg-secondary text-white"><div class="col-sm-11"><span>Subjects: {%for i in subjects%} 
              {% if  forloop.counter < length %} 
              {{i}}, 
              {%else %} and {{i}} {%endif%}
              {% endfor%} </div><div class="col-sm-1"><button type="button" class="mx-auto" data-bs-toggle="modal" data-bs-target="#subjects"> <i class="bi bi-pencil-square" > </i></button></div></span> </div><br>
            
            <div class="row e-block p-2 bg-secondary text-white"><div class="col-sm-12"><span>Department: {{teacher.department}}</div></span> </div><br>
            
           


            <!-- Button trigger modal -->
          
      
            <div class="row">
              <div class="col ">
                
                </div>

                 <!-- to change password -->
                <div class="col ">
                  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#Password">
                    Change Password
                  </button>
                  </div>
            </div>


            <!-- To change username -->
            <div class="modal fade" id="Username"  aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">

                  <div class="modal-header">
                    <h3 class="modal-title text-secondary" id="exampleModalLabel">Change Username</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="changeUsername" method="POST">


                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">Old Username</h5>
                      <input type="text" class="form-control" id="old_username" name="old_username"
                        placeholder="Enter New Username">


                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">New Username</h5>
                      <input type="text" class="form-control" id="new_username" name="new_username"
                        placeholder="Enter New Username">



                      <button type="button" class="btn btn-secondary"  style=" margin:10px;" data-bs-dismiss="modal">Close</button>
                      <input type="submit" class="btn btn-primary "  style=" margin:10px;" value="Change"> </button>

                    </form>
                  </div>
                </div>
              </div>
            </div>

            <!-- end of change username -->



    <!-- To change title -->
            <div class="modal fade" id="title"  aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">

                  <div class="modal-header">
                    <h3 class="modal-title text-secondary" id="exampleModalLabel">Change Title</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="changeTitle" method="POST">


                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">Old Title</h5>
                      <input type="text" class="form-control" id="old_title" name="old_title" value="{{teacher.title}}"
                        placeholder="{{teacher.title}}" readonly>


                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">New Title</h5>
                      <input type="text" class="form-control" id="new_title" name="new_title"
                        placeholder="Enter New Title">



                      <button type="button" class="btn btn-secondary"  style=" margin:10px;" data-bs-dismiss="modal">Close</button>
                      <input type="submit" class="btn btn-primary "  style=" margin:10px;" value="Change"> </button>

                    </form>
                  </div>
                </div>
              </div>
            </div>

            <!-- end of change title -->



    <!-- To add subject -->
            <div class="modal fade" id="subjects"  aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">

                  <div class="modal-header">
                    <h3 class="modal-title text-secondary" id="exampleModalLabel">Subjects</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form id="my-form" method="POST">

                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;"> Subjects</h5>
                      <select name='subject' >
                      {% for i in bisaya %}
                      <option>{{i}} </option>
                      {% endfor %}
                      </select>
                      {% comment %} <input type="checkbox" class="form-control" id="new_subject" name="new_subject"
                        placeholder="Subjects" multiple> {% endcomment %}

                      <br>
                      <button  onClick="add_subject()" class="btn btn-primary "  style=" margin:10px;" >Add</button>
                      <button  onClick="delete_subject()" class="btn btn-primary "  style=" margin:10px;" >Delete</button>
                      
                  

                    </form>
                  </div>
                </div>
              </div>
            </div>

            <!-- end of add subject -->


<!-- To change phone -->
            <div class="modal fade" id="phone"  aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">

                  <div class="modal-header">
                    <h3 class="modal-title text-secondary" id="exampleModalLabel">Change Phone</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="changePhone" method="POST">


                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">Old Phone Number</h5>
                      <input type="text" class="form-control" id="old_phone" name="old_phone" value="{{teacher.phone}}"
                        placeholder="{{teacher.phone}}" readonly>


                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">New Phone Number</h5>
                      <input type="text" class="form-control" id="new_phone" name="new_phone"
                        placeholder="Enter New Phone Number">



                      <button type="button" class="btn btn-secondary"  style=" margin:10px;" data-bs-dismiss="modal">Close</button>
                      <input type="submit" class="btn btn-primary "  style=" margin:10px;" value="Change"> </button>

                    </form>
                  </div>
                </div>
              </div>
            </div>

            <!-- end of change phone -->




            <!-- change email -->


        <div class="modal fade" id="email"  aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">

                  <div class="modal-header">
                    <h3 class="modal-title text-secondary" id="exampleModalLabel">Change Email</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="changeEmail" method="POST">


                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">Old Email</h5>
                      <input type="email" class="form-control" id="old_email" name="old_email" value="{{teacher.email}}"
                        placeholder="{{teacher.email}}" readonly>


                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">New Email</h5>
                      <input type="email" class="form-control" id="new_email" name="new_email"
                        placeholder="Enter New Email">



                      <button type="button" class="btn btn-secondary"  style=" margin:10px;" data-bs-dismiss="modal">Close</button>
                      <input type="submit" class="btn btn-primary "  style=" margin:10px;" value="Change"> </button>

                    </form>
                  </div>
                </div>
              </div>
            </div>

        <!-- end of change email -->



            <!-- to change Password--> 

            <div class="modal fade" id="Password" tabindex="-1" aria-labelledby="exampleModalLabel"
              aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">

                  <div class="modal-header">
                     
                    <h3 class="modal-title text-secondary" id="exampleModalLabel">Change Password</h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <form action="userPasswordChange" method="POST">
                      
                      <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">Old Password</h5>
                      <input type="password" class="form-control" id="myInput" name="old_password"
                        placeholder="Enter old password">
                        <input type="checkbox" onclick="myFunction()">Show Password


                        <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">New Password</h5>
                        <input type="password" class="form-control" id="myInput1" name="new_password"
                          placeholder="Enter new password">
                      <input type="checkbox" onclick="myFunction1()">Show Password


                          <h5 for="exampleInputEmail1" class="text-secondary" style="margin:10px;">Confirm New Password</h5>
                      <input type="password" class="form-control" id="myInput2" name="confirm_password"
                        placeholder="Confirm New password">
                      <input type="checkbox" onclick="myFunction2()">Show Password

                        <br>
                      <button type="button" class="btn btn-secondary" style="margin:10px;" data-bs-dismiss="modal">Close</button>
                      <input type="submit" class="btn btn-primary" style="margin:10px;" value="Change"> </button>

                    </form>
                  </div>
                </div>
              </div>
            </div>
          <!-- end of chnage password -->




          </div>
        </div>

      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
    crossorigin="anonymous">

  </script>

<script>

  // to show and hide password reset

  //for old password
  function myFunction() {
    var x = document.getElementById("myInput");
    if (x.type === "password") {
    x.value=x.value;
      x.type = "text";
      
    } else {
      x.type = "password";
    }
  }

  //for new password
function myFunction1() {
  var x = document.getElementById("myInput1");

  if (x.type === "password") {
    x.value=x.value;
    x.type = "text";
  } else {
    x.type = "password";
  }
}
  
//for confirming password
function myFunction2() {
  
  var x = document.getElementById("myInput2");

  if (x.type === "password") {
    x.value=x.value;
    x.type = "text";
  } else {
    x.type = "password";
  }
}

// to add subject
function add_subject(){
  var form_name=document.getElementById("my-form");
  form_name.action="addSubjects";
}

// to delete subject
function delete_subject() {
  var form_name=document.getElementById("my-form");
  form_name.action="deleteSubjects";
}

  
  </script>
{% endblock body %}